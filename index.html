<!DOCTYPE html>
<!-- Version: 20251106_150000 - FIXED: No homepage flash between videos during playback -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CityBlocks - Where Creators Collaborate</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        header {
            text-align: center;
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
        }

        h1 {
            font-size: 3.5rem;
            background: linear-gradient(135deg, #d4af37 0%, #f5c842 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .tagline {
            font-size: 1.3rem;
            color: #d4af37;
            font-style: italic;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 250px 1fr 250px;
            gap: 30px;
            align-items: start;
        }

        .nav-column {
            background: rgba(255, 255, 255, 0.08);
            padding: 25px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(212, 175, 55, 0.3);
            position: sticky;
            top: 20px;
        }

        .nav-column h3 {
            color: #d4af37;
            margin-bottom: 20px;
            font-size: 1.3rem;
            text-align: center;
            border-bottom: 2px solid rgba(212, 175, 55, 0.5);
            padding-bottom: 10px;
        }

        .nav-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 15px 0;
            background: rgba(212, 175, 55, 0.2);
            border: 2px solid rgba(212, 175, 55, 0.4);
            color: white;
            padding: 15px 12px;
            border-radius: 10px;
            text-decoration: none;
            text-align: center;
            font-weight: 600;
            transition: all 0.3s;
            cursor: pointer;
            font-size: 0.9rem;
            min-height: 54px;
            line-height: 1.2;
        }

        .nav-btn:hover {
            background: rgba(212, 175, 55, 0.4);
            border-color: #d4af37;
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }

        .nav-btn.primary {
            background: linear-gradient(135deg, #d4af37 0%, #f5c842 100%);
            border-color: #d4af37;
            color: #1a1a2e;
        }

        .nav-btn.primary:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.5);
        }

        .nav-btn.secondary {
            background: linear-gradient(135deg, #c49b2d 0%, #d4af37 100%);
            border-color: #c49b2d;
            color: #1a1a2e;
        }

        .nav-btn.secondary:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(196, 155, 45, 0.5);
        }

        .center-content {
            background: rgba(255, 255, 255, 0.08);
            padding: 40px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(212, 175, 55, 0.3);
        }

        .brownstone-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto 30px;
        }

        .brownstone-image {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .category-window {
            position: absolute;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }

        .category-window:hover {
            background: rgba(212, 175, 55, 0.3);
            border-color: #d4af37;
            transform: scale(1.05);
            z-index: 10;
            box-shadow: 0 10px 40px rgba(212, 175, 55, 0.6);
        }

        .category-icon {
            font-size: 2.5rem;
            margin-bottom: 5px;
            transition: all 0.3s;
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.8));
        }

        .category-window:hover .category-icon {
            transform: scale(1.2);
        }

        .category-label {
            font-size: 0.85rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            text-align: center;
            transition: all 0.3s;
            padding: 0 5px;
        }

        .category-window:hover .category-label {
            color: #d4af37;
        }

        /* Host Window - Door Area (Welcome entrance) */
        #window-host {
            top: 81.13%;    /* Y: 1217px */
            left: 44.0%;    /* X: 366px */
            width: 12.74%;  /* W: 106px */
            height: 10%;    /* H: 150px */
            background: rgba(212, 175, 55, 0.4);
            border: 2px solid transparent;
        }

        /* Row 1 - Top Floor (Animators, Composers, Cosplayers) */
        #window-animators {
            top: 20.13%;    /* Y: 302px */
            left: 21.15%;   /* X: 176px */
            width: 12.02%;  /* W: 100px */
            height: 7.67%;  /* H: 115px */
        }

        #window-composers {
            top: 20.13%;    /* Y: 302px */
            left: 44.0%;    /* X: 366px */
            width: 12.02%;  /* W: 100px */
            height: 7.67%;  /* H: 115px */
        }

        #window-cosplayers {
            top: 20.07%;    /* Y: 301px */
            left: 67.19%;   /* X: 559px */
            width: 12.02%;  /* W: 100px */
            height: 7.67%;  /* H: 115px */
        }

        /* Row 2 - Second Floor (Filmmakers, Game Developers, Illustrators) */
        #window-filmmakers {
            top: 33.33%;    /* Y: 500px */
            left: 21.39%;   /* X: 178px */
            width: 11.78%;  /* W: 98px */
            height: 9.27%;  /* H: 139px */
        }

        #window-gamedev {
            top: 33.33%;    /* Y: 500px */
            left: 44.35%;   /* X: 369px */
            width: 11.78%;  /* W: 98px */
            height: 9.27%;  /* H: 139px */
        }

        #window-illustrators {
            top: 33.33%;    /* Y: 500px */
            left: 67.43%;   /* X: 561px */
            width: 11.78%;  /* W: 98px */
            height: 9.27%;  /* H: 139px */
        }

        /* Row 3 - Third Floor (Musicians, Performers, Producers) */
        #window-musicians {
            top: 47.2%;     /* Y: 708px */
            left: 21.51%;   /* X: 179px */
            width: 11.78%;  /* W: 98px */
            height: 9.27%;  /* H: 139px */
        }

        #window-performers {
            top: 47.4%;     /* Y: 711px */
            left: 44.35%;   /* X: 369px */
            width: 11.78%;  /* W: 98px */
            height: 9.27%;  /* H: 139px */
        }

        #window-producers {
            top: 47.2%;     /* Y: 708px */
            left: 67.55%;   /* X: 562px */
            width: 11.78%;  /* W: 98px */
            height: 9.27%;  /* H: 139px */
        }

        /* Row 4 - Fourth Floor (Talent Agencies, Voice Actors, Writers) */
        #window-agencies {
            top: 63.8%;     /* Y: 957px */
            left: 21.39%;   /* X: 178px */
            width: 11.78%;  /* W: 98px */
            height: 9.27%;  /* H: 139px */
        }

        #window-voice {
            top: 63.73%;    /* Y: 956px */
            left: 44.47%;   /* X: 370px */
            width: 11.78%;  /* W: 98px */
            height: 9.27%;  /* H: 139px */
        }

        #window-writers {
            top: 63.8%;     /* Y: 957px */
            left: 67.67%;   /* X: 563px */
            width: 11.78%;  /* W: 98px */
            height: 9.27%;  /* H: 139px */
        }

        /* Basement Windows (Let's Collaborate & For Hire) */
        #window-collaborate {
            top: 80.13%;    /* Y: 1202px */
            left: 21.27%;   /* X: 177px */
            width: 11.78%;  /* W: 98px */
            height: 9.27%;  /* H: 139px */
            cursor: pointer;
            background: rgba(212, 175, 55, 0.3);
            border: 2px solid transparent;
        }

        #window-collaborate:hover {
            background: rgba(212, 175, 55, 0.5);
            transform: scale(1.05);
        }

        #window-forhire {
            top: 80.13%;    /* Y: 1202px */
            left: 67.67%;   /* X: 563px */
            width: 11.78%;  /* W: 98px */
            height: 9.27%;  /* H: 139px */
            cursor: pointer;
            background: rgba(212, 175, 55, 0.3);
            border: 2px solid transparent;
        }

        #window-forhire:hover {
            background: rgba(212, 175, 55, 0.5);
            transform: scale(1.05);
        }

        /* Video Controls - Stairway Area */
        #video-controls {
            position: absolute;
            top: 93.47%;    /* Y: 1402px */
            left: 37.62%;   /* X: 313px */
            width: 25.48%;  /* W: 212px */
            height: 4.07%;  /* H: 61px */
            background: linear-gradient(135deg, #d4af37 0%, #f5c842 100%);
            border: 3px solid #f5c842;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 3px;
            cursor: pointer;
            transition: all 0.3s;
            padding: 5px;
            box-shadow: 0 5px 20px rgba(212, 175, 55, 0.6);
        }

        #video-controls:hover {
            background: linear-gradient(135deg, #f5c842 0%, #ffd700 100%);
            transform: scale(1.1);
            box-shadow: 0 8px 30px rgba(212, 175, 55, 0.9);
        }

        .video-controls-title {
            font-size: 0.9rem;
            font-weight: bold;
            color: #1a1a2e;
            text-align: center;
            line-height: 1;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.3);
        }

        .video-controls-options {
            font-size: 0.55rem;
            color: #1a1a2e;
            text-align: center;
            line-height: 1.2;
            font-weight: 600;
        }

        .intro-text {
            background: rgba(212, 175, 55, 0.1);
            padding: 25px;
            border-radius: 10px;
            border-left: 4px solid #d4af37;
            line-height: 1.8;
        }

        .intro-text p {
            margin-bottom: 15px;
        }

        .intro-text strong {
            color: #d4af37;
        }

        .video-preview-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
        }

        .video-preview-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            margin: 3% auto;
            padding: 0;
            border: 2px solid #d4af37;
            border-radius: 15px;
            width: 90%;
            max-width: 900px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        .video-preview-header {
            background: rgba(212, 175, 55, 0.2);
            padding: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid rgba(212, 175, 55, 0.3);
        }

        .video-preview-title {
            color: #d4af37;
            font-size: 2rem;
            margin: 0;
        }

        .video-preview-close {
            color: #d4af37;
            font-size: 3rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            line-height: 1;
        }

        .video-preview-close:hover {
            color: #f5c842;
            transform: rotate(90deg);
        }

        .video-preview-frame {
            background: #000;
            padding: 40px;
            text-align: center;
            color: #666;
            font-size: 1.2rem;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .creator-info {
            padding: 30px;
            display: flex;
            align-items: center;
            gap: 20px;
            background: rgba(255, 255, 255, 0.03);
        }

        .creator-avatar {
            font-size: 4rem;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(212, 175, 55, 0.2);
            border-radius: 50%;
            border: 2px solid #d4af37;
        }

        .creator-details {
            flex: 1;
        }

        .creator-name {
            font-size: 1.5rem;
            font-weight: bold;
            color: #d4af37;
            margin-bottom: 5px;
        }

        .creator-category {
            color: #999;
            font-size: 1.1rem;
        }

        .view-directory-btn {
            display: block;
            margin: 30px;
            padding: 18px 40px;
            background: linear-gradient(135deg, #d4af37 0%, #f5c842 100%);
            color: #1a1a2e;
            text-decoration: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: bold;
            text-align: center;
            transition: all 0.3s;
        }

        .view-directory-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.5);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            overflow-y: auto;
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            margin: 5% auto;
            padding: 40px;
            border: 2px solid #d4af37;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        .close {
            position: absolute;
            right: 25px;
            top: 25px;
            color: #d4af37;
            font-size: 3rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .close:hover {
            color: #f5c842;
            transform: rotate(90deg);
        }

        .modal h2 {
            color: #d4af37;
            font-size: 2.5rem;
            margin-bottom: 25px;
            border-bottom: 2px solid rgba(212, 175, 55, 0.3);
            padding-bottom: 15px;
        }

        .modal p {
            color: #ccc;
            line-height: 1.8;
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .modal ul {
            margin-left: 30px;
            margin-bottom: 20px;
        }

        .modal li {
            color: #ccc;
            line-height: 1.8;
            margin-bottom: 10px;
        }

        .modal strong {
            color: #d4af37;
        }

        footer {
            text-align: center;
            padding: 40px 20px;
            margin-top: 60px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        footer p {
            margin: 10px 0;
            color: #999;
        }

        footer strong {
            color: #d4af37;
        }

        footer a {
            color: #d4af37;
            text-decoration: none;
            margin: 0 10px;
            transition: color 0.3s;
        }

        footer a:hover {
            color: #f5c842;
        }

        @media (max-width: 1200px) {
            .container {
                grid-template-columns: 1fr;
            }

            .nav-column {
                position: static;
            }

            h1 {
                font-size: 2.5rem;
            }
        }

        @media (max-width: 768px) {
            .category-icon {
                font-size: 1.8rem;
            }

            .category-label {
                font-size: 0.65rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>CityBlocks</h1>
        <p class="tagline">Where Creators Collaborate</p>
    </header>

    <div class="container">
        <div class="nav-column">
            <h3>Join The Community</h3>
            <button class="nav-btn" onclick="openHowItWorksModal()">üì∫ How it Works</button>
            <a href="customize.html" class="nav-btn primary">üè† Customize Your Brownstone</a>
            <button class="nav-btn" onclick="openAboutModal()">‚ÑπÔ∏è About</button>
            
            <div style="margin-top: 40px;">
                <button class="nav-btn primary" onclick="alert('Creators Showcase coming soon!')">üë• Creators Showcase</button>
                <button class="nav-btn secondary" onclick="alert('Featured Creator rotation coming soon!')">‚≠ê Featured Creator #1</button>
                <button class="nav-btn secondary" onclick="alert('Featured Creator rotation coming soon!')">‚≠ê Featured Creator #2</button>
                <button class="nav-btn secondary" onclick="alert('Featured Creator rotation coming soon!')">‚≠ê Featured Creator #3</button>
            </div>
            
            <div style="margin-top: 40px;">
                <h3 style="font-size: 1rem; color: #d4af37; margin-bottom: 15px;">Sponsors</h3>
                <button class="nav-btn" onclick="alert('Sponsorship opportunities coming soon!')">üíº Our Sponsors</button>
            </div>
        </div>

        <div class="center-content">
            <div class="brownstone-container">
                <img src="brownstone.jpg" alt="CityBlocks Brownstone" class="brownstone-image">
                
                <!-- Host Window -->
                <div id="window-host" class="category-window" onclick="showCategoryPreview('host')">
                    <iframe
                        src="https://www.youtube.com/embed/WzBgqoxapKc?autoplay=1&mute=1&loop=1&playlist=WzBgqoxapKc&controls=0&showinfo=0&modestbranding=1&rel=0"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; pointer-events: none; opacity: 0.6;"
                        allow="autoplay; encrypted-media"
                    ></iframe>
                    <div class="category-icon" style="position: relative; z-index: 1;">‚≠ê</div>
                    <div class="category-label" style="position: relative; z-index: 1;">Host Project</div>
                </div>

                <!-- Row 1: Animators, Composers, Cosplayers -->
                <div id="window-animators" class="category-window" onclick="showCategoryPreview('animators')">
                    <iframe
                        src="https://www.youtube.com/embed/TrDKKViYHcU?autoplay=1&mute=1&loop=1&playlist=TrDKKViYHcU&controls=0&showinfo=0&modestbranding=1&rel=0"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; pointer-events: none; opacity: 0.6;"
                        allow="autoplay; encrypted-media"
                    ></iframe>
                    <div class="category-icon" style="position: relative; z-index: 1;">üéûÔ∏è</div>
                    <div class="category-label" style="position: relative; z-index: 1;">Animators</div>
                </div>

                <div id="window-composers" class="category-window" onclick="showCategoryPreview('composers')">
                    <iframe
                        src="https://www.youtube.com/embed/SRQMxI0I67Y?autoplay=1&mute=1&loop=1&playlist=SRQMxI0I67Y&controls=0&showinfo=0&modestbranding=1&rel=0"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; pointer-events: none; opacity: 0.6;"
                        allow="autoplay; encrypted-media"
                    ></iframe>
                    <div class="category-icon" style="position: relative; z-index: 1;">üéº</div>
                    <div class="category-label" style="position: relative; z-index: 1;">Composers</div>
                </div>

                <div id="window-cosplayers" class="category-window" onclick="showCategoryPreview('cosplayers')">
                    <iframe
                        src="https://www.youtube.com/embed/CcdBfOHhaV0?autoplay=1&mute=1&loop=1&playlist=CcdBfOHhaV0&controls=0&showinfo=0&modestbranding=1&rel=0"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; pointer-events: none; opacity: 0.6;"
                        allow="autoplay; encrypted-media"
                    ></iframe>
                    <div class="category-icon" style="position: relative; z-index: 1;">ü¶∏‚Äç‚ôÇÔ∏è</div>
                    <div class="category-label" style="position: relative; z-index: 1;">Cosplayers</div>
                </div>

                <!-- Row 2: Filmmakers, Game Developers, Illustrators -->
                <div id="window-filmmakers" class="category-window" onclick="showCategoryPreview('filmmakers')">
                    <iframe
                        src="https://www.youtube.com/embed/CcdBfOHhaV0?autoplay=1&mute=1&loop=1&playlist=CcdBfOHhaV0&controls=0&showinfo=0&modestbranding=1&rel=0"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; pointer-events: none; opacity: 0.6;"
                        allow="autoplay; encrypted-media"
                    ></iframe>
                    <div class="category-icon" style="position: relative; z-index: 1;">üé•</div>
                    <div class="category-label" style="position: relative; z-index: 1;">Filmmakers</div>
                </div>

                <div id="window-gamedev" class="category-window" onclick="showCategoryPreview('gamedev')">
                    <iframe
                        src="https://www.youtube.com/embed/TrDKKViYHcU?autoplay=1&mute=1&loop=1&playlist=TrDKKViYHcU&controls=0&showinfo=0&modestbranding=1&rel=0"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; pointer-events: none; opacity: 0.6;"
                        allow="autoplay; encrypted-media"
                    ></iframe>
                    <div class="category-icon" style="position: relative; z-index: 1;">üéÆ</div>
                    <div class="category-label" style="position: relative; z-index: 1;">Game Developers</div>
                </div>

                <div id="window-illustrators" class="category-window" onclick="showCategoryPreview('illustrators')">
                    <iframe
                        src="https://www.youtube.com/embed/SRQMxI0I67Y?autoplay=1&mute=1&loop=1&playlist=SRQMxI0I67Y&controls=0&showinfo=0&modestbranding=1&rel=0"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; pointer-events: none; opacity: 0.6;"
                        allow="autoplay; encrypted-media"
                    ></iframe>
                    <div class="category-icon" style="position: relative; z-index: 1;">üñºÔ∏è</div>
                    <div class="category-label" style="position: relative; z-index: 1;">Visual Artists</div>
                </div>

                <!-- Row 3: Musicians, Performers, Producers -->
                <div id="window-musicians" class="category-window" onclick="showCategoryPreview('musicians')">
                    <iframe
                        src="https://www.youtube.com/embed/CcdBfOHhaV0?autoplay=1&mute=1&loop=1&playlist=CcdBfOHhaV0&controls=0&showinfo=0&modestbranding=1&rel=0"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; pointer-events: none; opacity: 0.6;"
                        allow="autoplay; encrypted-media"
                    ></iframe>
                    <div class="category-icon" style="position: relative; z-index: 1;">ü•Å</div>
                    <div class="category-label" style="position: relative; z-index: 1;">Musicians</div>
                </div>

                <div id="window-performers" class="category-window" onclick="showCategoryPreview('performers')">
                    <iframe
                        src="https://www.youtube.com/embed/TrDKKViYHcU?autoplay=1&mute=1&loop=1&playlist=TrDKKViYHcU&controls=0&showinfo=0&modestbranding=1&rel=0"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; pointer-events: none; opacity: 0.6;"
                        allow="autoplay; encrypted-media"
                    ></iframe>
                    <div class="category-icon" style="position: relative; z-index: 1;">üíÉ</div>
                    <div class="category-label" style="position: relative; z-index: 1;">Performers</div>
                </div>

                <div id="window-producers" class="category-window" onclick="showCategoryPreview('producers')">
                    <iframe
                        src="https://www.youtube.com/embed/SRQMxI0I67Y?autoplay=1&mute=1&loop=1&playlist=SRQMxI0I67Y&controls=0&showinfo=0&modestbranding=1&rel=0"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; pointer-events: none; opacity: 0.6;"
                        allow="autoplay; encrypted-media"
                    ></iframe>
                    <div class="category-icon" style="position: relative; z-index: 1;">üí∞</div>
                    <div class="category-label" style="position: relative; z-index: 1;">Producers</div>
                </div>

                <!-- Row 4: Talent Agencies, Voice Actors, Writers -->
                <div id="window-agencies" class="category-window" onclick="showCategoryPreview('agencies')">
                    <iframe
                        src="https://www.youtube.com/embed/CcdBfOHhaV0?autoplay=1&mute=1&loop=1&playlist=CcdBfOHhaV0&controls=0&showinfo=0&modestbranding=1&rel=0"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; pointer-events: none; opacity: 0.6;"
                        allow="autoplay; encrypted-media"
                    ></iframe>
                    <div class="category-icon" style="position: relative; z-index: 1;">üíº</div>
                    <div class="category-label" style="position: relative; z-index: 1;">Talent Agencies</div>
                </div>

                <div id="window-voice" class="category-window" onclick="showCategoryPreview('voice')">
                    <iframe
                        src="https://www.youtube.com/embed/SRQMxI0I67Y?autoplay=1&mute=1&loop=1&playlist=SRQMxI0I67Y&controls=0&showinfo=0&modestbranding=1&rel=0"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; pointer-events: none; opacity: 0.6;"
                        allow="autoplay; encrypted-media"
                    ></iframe>
                    <div class="category-icon" style="position: relative; z-index: 1;">üéôÔ∏è</div>
                    <div class="category-label" style="position: relative; z-index: 1;">Voice Actors</div>
                </div>

                <div id="window-writers" class="category-window" onclick="showCategoryPreview('writers')">
                    <iframe
                        src="https://www.youtube.com/embed/CcdBfOHhaV0?autoplay=1&mute=1&loop=1&playlist=CcdBfOHhaV0&controls=0&showinfo=0&modestbranding=1&rel=0"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; pointer-events: none; opacity: 0.6;"
                        allow="autoplay; encrypted-media"
                    ></iframe>
                    <div class="category-icon" style="position: relative; z-index: 1;">‚úçÔ∏è</div>
                    <div class="category-label" style="position: relative; z-index: 1;">Writers</div>
                </div>

                <!-- Basement Windows -->
                <div id="window-collaborate" class="category-window" onclick="alert('Project submission page coming soon!')">
                    <div class="category-icon">ü§ù</div>
                    <div class="category-label">Let's Collaborate</div>
                </div>

                <div id="window-forhire" class="category-window" onclick="alert('Contact/booking page coming soon!')">
                    <div class="category-icon">üíº</div>
                    <div class="category-label">For Hire</div>
                </div>

                <!-- Video Controls - Stairway -->
                <div id="video-controls" onclick="openVideoControlsModal()">
                    <div class="video-controls-title">üé¨ Video Controls</div>
                    <div class="video-controls-options">Play Sequence 1-12 | Play Random Order<br>Play Set: 1 first, then You choose the order</div>
                </div>
            </div>
            
            <div class="intro-text">
                <p><strong>üé≠ The Collaboration Library - Content That Works Together</strong></p>
                <p>CityBlocks features two types of content: <strong>Showcase Videos</strong> (any length, for portfolio and exposure) and the <strong>Collaboration Library</strong> (30-sec or 1-min videos that hosts can mix and match to create unique performances).</p>
                <p><strong>üí° How It Works:</strong> Submit your 30-second drum beat to the library ‚Üí Other hosts discover it and add it to their projects ‚Üí Your video gets featured in multiple brownstones ‚Üí Everyone gets more views! Like music sampling, but for ALL creative content.</p>
                <p><strong>üé¨ Example:</strong> A drummer posts a beat. A guitarist adds it to Project A. A pianist uses the same beat in Project B. A rapper uses it in Project C. Same beat = 3 unique performances = 3x the exposure!</p>
                <p><strong>ü§ù Algorithm-Free | Politics-Free | Pure Creativity</strong></p>
            </div>
        </div>

        <div class="nav-column">
            <h3>Explore The Community</h3>
            <a href="#" class="nav-btn" onclick="alert('Animators directory coming soon!'); return false;">Animators</a>
            <a href="#" class="nav-btn" onclick="alert('Composers directory coming soon!'); return false;">Composers</a>
            <a href="#" class="nav-btn" onclick="alert('Cosplayers directory coming soon!'); return false;">Cosplayers</a>
            <a href="#" class="nav-btn" onclick="alert('Filmmakers directory coming soon!'); return false;">Filmmakers</a>
            <a href="#" class="nav-btn" onclick="alert('Game Developers directory coming soon!'); return false;">Game Developers</a>
            <a href="#" class="nav-btn" onclick="alert('Visual Artists directory coming soon!'); return false;">Visual Artists</a>
            <a href="#" class="nav-btn" onclick="alert('Musicians directory coming soon!'); return false;">Musicians</a>
            <a href="#" class="nav-btn" onclick="alert('Performers directory coming soon!'); return false;">Performers</a>
            <a href="#" class="nav-btn" onclick="alert('Producers directory coming soon!'); return false;">Producers</a>
            <a href="#" class="nav-btn" onclick="alert('Talent Agencies directory coming soon!'); return false;">Talent Agencies</a>
            <a href="#" class="nav-btn" onclick="alert('Voice Actors directory coming soon!'); return false;">Voice Actors</a>
            <a href="#" class="nav-btn" onclick="alert('Writers directory coming soon!'); return false;">Writers</a>
        </div>
    </div>

    <div id="videoPreviewModal" class="video-preview-modal">
        <div class="video-preview-content">
            <div class="video-preview-header">
                <h2 class="video-preview-title" id="previewCategory">Category</h2>
                <span class="video-preview-close" onclick="closeVideoPreview()">&times;</span>
            </div>

            <div class="video-preview-frame">
                <p>üé¨ Video submissions will play here<br><br>Sequential playback for narratives üéûÔ∏è<br>Random playback for comedy üé≠</p>
            </div>

            <div class="creator-info">
                <div class="creator-avatar" id="creatorAvatar">üé∏</div>
                <div class="creator-details">
                    <div class="creator-name" id="creatorName">Featured Creator</div>
                    <div class="creator-category" id="creatorCategoryLabel">Approved video submission</div>
                </div>
            </div>

            <a href="#" class="view-directory-btn" id="directoryLink">
                üèòÔ∏è View Full Directory
            </a>
        </div>
    </div>

    <div id="aboutModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAboutModal()">&times;</span>
            <h2>About CityBlocks</h2>
            
            <p><strong>Welcome to CityBlocks.com</strong> - where creativity meets community through collaborative video performances.</p>
            
            <p><strong>The Revolutionary Collaboration Library</strong></p>
            <p>CityBlocks solves the biggest problem in creative collaboration: waiting. Instead of posting a project and hoping for submissions, hosts can browse our <strong>Collaboration Library</strong> - a growing collection of 30-second and 1-minute creator videos that anyone can use in their projects.</p>
            
            <p><strong>Two Types of Content:</strong></p>
            <p><strong>üì∫ Showcase Videos</strong> - Full-length portfolio pieces (any duration) displayed in category directories for exposure and discovery. Perfect for highlighting your best work.</p>
            
            <p><strong>üé¨ Collaboration Library</strong> - Short-form content (30 seconds or 1 minute) that hosts can mix and match to create unique brownstone performances. Submit once, get featured in multiple projects!</p>
            
            <p><strong>How The Collaboration Library Works:</strong></p>
            <p><strong>For Contributors:</strong> Upload your 30-second clip ‚Üí It gets tagged and approved ‚Üí Goes into the searchable library ‚Üí Other hosts discover and use it ‚Üí Your video gets featured in multiple projects ‚Üí More exposure, more views!</p>
            
            <p><strong>For Hosts:</strong> Browse the library by category, style, or mood ‚Üí Select 12 videos that work together ‚Üí Arrange them in your brownstone's 12 windows ‚Üí Create unique collaborative performances ‚Üí Visitors use Video Controls to play them sequentially or randomly!</p>
            
            <p><strong>The Magic Example:</strong></p>
            <p>A drummer posts a 30-second beat to the library. A guitarist discovers it and uses it in their rock project. A pianist finds the same beat and adds it to their jazz fusion piece. A rapper uses it for a hip-hop brownstone. <strong>Same drum beat = 3 unique performances = 3x the views for the drummer!</strong></p>
            
            <p><strong>Like Music Sampling for ALL Creative Content</strong></p>
            <p>Just as hip-hop artists sample classic tracks to create something new, CityBlocks lets ALL creators build on each other's work. A voice actor's line, an animator's character, a musician's riff - all become building blocks for infinite collaborative possibilities.</p>
            
            <p><strong>The Brownstone Structure:</strong></p>
            <p>Each brownstone has <strong>13 windows</strong> inspired by Led Zeppelin's Physical Graffiti album cover:</p>
            <p>‚Ä¢ <strong>1 Host Window (The Door)</strong> - Your project's introduction or theme</p>
            <p>‚Ä¢ <strong>12 Category Windows</strong> - Collaborative content that plays together like the Brady Bunch grid!</p>
            
            <p><strong>Platform Benefits:</strong></p>
            <p>‚úì <strong>No waiting</strong> - Content library already exists</p>
            <p>‚úì <strong>More exposure</strong> - Your videos reused in multiple projects</p>
            <p>‚úì <strong>Infinite combinations</strong> - Same 100 videos = 1000s of unique performances</p>
            <p>‚úì <strong>Algorithm-free</strong> - No politics, no spam, just creativity</p>
            <p>‚úì <strong>Lower barrier</strong> - Contribute once, featured many times</p>
            <p>‚úì <strong>Network effects</strong> - The more content, the more possibilities!</p>
            
            <p><strong>The Agreement:</strong></p>
            <p>By submitting to the Collaboration Library, you grant other CityBlocks hosts permission to feature your video in their projects. You retain all rights to your content and receive credit in every brownstone that features your work. All collaborators are properly attributed.</p>
            
            <p style="margin-top: 30px;"><strong>CityBlocks.com - Premium Domain Since 1997, Reimagined for 2025</strong></p>
            <p><em>Building a creative community where everyone's work amplifies everyone else's reach.</em></p>
        </div>
    </div>

    <!-- Privacy Policy Modal -->
    <div id="privacyModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closePrivacyModal()">&times;</span>
            <h2>Privacy Policy</h2>
            
            <p><strong>Last Updated:</strong> November 2025</p>
            
            <p>At CityBlocks, we respect your privacy and are committed to protecting your personal information.</p>
            
            <p><strong>Information We Collect:</strong></p>
            <ul>
                <li>Account information (email, username, profile details)</li>
                <li>Content you create and upload (videos, images, project descriptions)</li>
                <li>Usage data (how you interact with the platform)</li>
            </ul>
            
            <p><strong>How We Use Your Information:</strong></p>
            <ul>
                <li>To provide and improve our services</li>
                <li>To facilitate collaboration between creators</li>
                <li>To communicate with you about your account</li>
                <li>To ensure platform security</li>
            </ul>
            
            <p><strong>Information Sharing:</strong></p>
            <ul>
                <li>We do NOT sell your personal information</li>
                <li>Public content (brownstones, videos) is visible to other users</li>
                <li>We may share data with service providers who help operate the platform</li>
            </ul>
            
            <p><strong>Your Rights:</strong> You can access, update, or delete your personal information at any time through your account settings.</p>
            
            <p>For questions about privacy, please contact us through our Contact page.</p>
        </div>
    </div>

    <!-- Terms of Service Modal -->
    <div id="termsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeTermsModal()">&times;</span>
            <h2>Terms of Service</h2>
            
            <p><strong>Last Updated:</strong> November 2025</p>
            
            <p>Welcome to CityBlocks. By using our platform, you agree to these terms.</p>
            
            <p><strong>User Accounts:</strong></p>
            <ul>
                <li>You must be 13 years or older to use CityBlocks</li>
                <li>You are responsible for maintaining account security</li>
                <li>One account per person</li>
            </ul>
            
            <p><strong>Content Guidelines:</strong></p>
            <ul>
                <li>You own the content you create</li>
                <li>Content must not violate copyright or intellectual property rights</li>
                <li>No hate speech, harassment, or illegal content</li>
                <li>We're algorithm-free and politics-free - keep it creative</li>
            </ul>
            
            <p><strong>Collaboration:</strong></p>
            <ul>
                <li>Host users curate their collaborative projects</li>
                <li>Submitting content to a project grants the host permission to feature it</li>
                <li>Credit must be given to all collaborators</li>
            </ul>
            
            <p><strong>Platform Use:</strong></p>
            <ul>
                <li>Use CityBlocks for creative collaboration and networking</li>
                <li>Do not spam, harass, or abuse other users</li>
                <li>We reserve the right to remove content or accounts that violate these terms</li>
            </ul>
            
            <p><strong>Liability:</strong> CityBlocks is provided "as is" - we're not liable for user-generated content or disputes between users.</p>
            
            <p>By using CityBlocks, you acknowledge that you've read and agree to these terms.</p>
        </div>
    </div>

    <!-- Contact Modal -->
    <div id="contactModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeContactModal()">&times;</span>
            <h2>Contact Us</h2>
            
            <p>We'd love to hear from you! Whether you have questions, feedback, or need support, we're here to help.</p>
            
            <p><strong>üìß Email:</strong> <a href="mailto:contact@cityblocks.com" style="color: #d4af37;">contact@cityblocks.com</a></p>
            
            <p><strong>üí¨ General Inquiries:</strong><br>
            For questions about how CityBlocks works, pricing, or partnerships.</p>
            
            <p><strong>üõ†Ô∏è Technical Support:</strong><br>
            Experiencing technical issues? Let us know and we'll help resolve them.</p>
            
            <p><strong>üé® Creator Support:</strong><br>
            Questions about setting up your brownstone or collaborating with other creators.</p>
            
            <p><strong>ü§ù Business Development:</strong><br>
            Interested in partnerships or advertising opportunities.</p>
            
            <p><strong>‚öñÔ∏è Legal & Compliance:</strong><br>
            Copyright concerns, terms violations, or legal inquiries.</p>
            
            <p style="margin-top: 30px;"><strong>CityBlocks</strong><br>
            Premium Domain Since 1997<br>
            Reimagined for 2025</p>
            
            <p style="font-style: italic; color: #999;">We typically respond within 24-48 hours during business days.</p>
        </div>
    </div>

    <!-- Video Controls Modal -->
    <div id="videoControlsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeVideoControlsModal()">&times;</span>
            <h2>üé¨ Performance Controls</h2>
            
            <p><strong>Create Interactive Collaborative Performances!</strong></p>
            <p>Control how the 12 category videos play together. Each video plays completely, then automatically advances to the next one - creating collaborative performances like the Brady Bunch grid concept!</p>
            
            <div style="margin: 30px 0;">
                <button class="nav-btn primary" onclick="playSequential()" style="width: 100%; margin: 10px 0; font-size: 1.1rem;">
                    üéØ Play Sequential (1-12)
                </button>
                <p style="font-size: 0.9rem; color: #999; margin-top: 5px;">Plays all 12 windows in order: Aurora ‚Üí Bill ‚Üí Cecil ‚Üí Fergus ‚Üí and so on... Creates a seamless narrative performance!</p>
            </div>
            
            <div style="margin: 30px 0;">
                <button class="nav-btn primary" onclick="playRandom()" style="width: 100%; margin: 10px 0; font-size: 1.1rem;">
                    üé≤ Play Random Order
                </button>
                <p style="font-size: 0.9rem; color: #999; margin-top: 5px;">Random generator picks the order - creates unexpected comedy and unique performances every time! Perfect for discovering surprising creative combinations!</p>
            </div>
            
            <div style="margin: 30px 0;">
                <button class="nav-btn secondary" onclick="stopPlayback()" style="width: 100%; margin: 10px 0; font-size: 1.1rem;">
                    ‚èπÔ∏è Stop Playback
                </button>
            </div>
            
            <p style="margin-top: 30px; padding: 15px; background: rgba(212, 175, 55, 0.1); border-radius: 10px; border-left: 4px solid #d4af37;">
                <strong>üí° Native Hosting Advantage:</strong> Videos are hosted directly on CityBlocks, not YouTube or any external platform. This means no algorithm interference, no unwanted suggestions, and complete creative control. Your content, your platform!
            </p>
            
            <p style="margin-top: 20px; font-style: italic; color: #d4af37;">
                <strong>üé≠ Pro Tip:</strong> Same content in Random Order creates completely different performances! One character can be the opening OR the finale - creating infinite creative possibilities from the Collaboration Library!
            </p>
        </div>
    </div>

    <!-- How it Works Modal -->
    <div id="howItWorksModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeHowItWorksModal()">&times;</span>
            <h2>üì∫ How CityBlocks Works</h2>
            
            <p><strong>Welcome to the future of creative collaboration!</strong></p>
            
            <p><strong>üéØ Step 1: Choose Your Path</strong></p>
            <p><strong>Option A - Showcase Your Work:</strong> Upload full-length portfolio videos (any duration) to your category directory. Perfect for getting discovered and building your audience.</p>
            <p><strong>Option B - Join the Collaboration Library:</strong> Upload 30-second or 1-minute clips that other hosts can use in their projects. Get featured in multiple brownstones and multiply your exposure!</p>
            
            <p><strong>üé¨ Step 2: For Hosts - Build Your Brownstone</strong></p>
            <p>‚Ä¢ Browse the Collaboration Library by category, style, or mood</p>
            <p>‚Ä¢ Select 12 videos that work together creatively</p>
            <p>‚Ä¢ Arrange them in your brownstone's 12 windows</p>
            <p>‚Ä¢ Add your Host video (the door) to introduce the theme</p>
            <p>‚Ä¢ Customize your brownstone's appearance</p>
            
            <p><strong>üé≠ Step 3: Visitors Experience Your Performance</strong></p>
            <p>‚Ä¢ Click any window to watch individual videos</p>
            <p>‚Ä¢ Use Video Controls for full performances:</p>
            <p style="margin-left: 30px;">‚Üí <strong>Sequential (1-12):</strong> Tell a story with controlled pacing</p>
            <p style="margin-left: 30px;">‚Üí <strong>Random Order:</strong> Create comedy through unexpected combinations!</p>
            
            <p><strong>üí° The Magic of the Collaboration Library</strong></p>
            <p>Imagine: A drummer posts a 30-second beat. That same beat gets used by:</p>
            <p style="margin-left: 20px;">üé∏ A guitarist in a rock project</p>
            <p style="margin-left: 20px;">üéπ A pianist in a jazz fusion piece</p>
            <p style="margin-left: 20px;">üé§ A rapper in a hip-hop brownstone</p>
            <p style="margin-left: 20px;">üéª A violinist in a classical crossover</p>
            <p><strong>Same drum beat = 4 unique performances = 4x the exposure!</strong></p>
            
            <p><strong>üé™ Real Examples:</strong></p>
            <p>‚Ä¢ Irving Otto Shuda (voice actor) says a line in a classroom</p>
            <p>‚Ä¢ Frawstee The Knowman (snowman character) responds from a couch</p>
            <p>‚Ä¢ Another creator adds their reaction</p>
            <p>‚Ä¢ Together they create a collaborative comedy sketch!</p>
            
            <p>In Random Order? Same videos = completely different performance! The snowman might go first, creating an entirely new narrative!</p>
            
            <p><strong>‚úÖ Platform Principles:</strong></p>
            <p>‚úì <strong>Algorithm-Free:</strong> No AI deciding who gets seen</p>
            <p>‚úì <strong>Politics-Free:</strong> Pure creativity, zero controversy</p>
            <p>‚úì <strong>Native Hosting:</strong> Videos hosted directly on CityBlocks - no external platform interference</p>
            <p>‚úì <strong>Network Effects:</strong> More content = more combinations = more exposure for everyone</p>
            <p>‚úì <strong>Proper Attribution:</strong> Every creator gets credited in every brownstone</p>
            
            <p style="margin-top: 30px; padding: 15px; background: rgba(212, 175, 55, 0.1); border-radius: 10px; border-left: 4px solid #d4af37;">
                <strong>üöÄ Ready to Start?</strong><br>
                Click "Customize Your Brownstone" to begin building your project, or explore the category directories to see what other creators are making!
            </p>
        </div>
    </div>

    <footer>
        <p><strong>CityBlocks.com</strong> - Premium Domain Since 1997, Reimagined 2025</p>
        <p>Algorithm-Free | Politics-Free | Creator-Focused</p>
        <p>&copy; 2025 CityBlocks | <a href="#" onclick="openPrivacyModal(); return false;">Privacy</a> | <a href="#" onclick="openTermsModal(); return false;">Terms</a> | <a href="#" onclick="openContactModal(); return false;">Contact</a></p>
    </footer>

    <script>
        const categoryData = {
            host: {
                icon: '‚≠ê',
                title: 'Host Project',
                avatar: 'üéØ',
                directoryUrl: '#',
                description: 'Featured project hosts showcasing collaborative creativity',
                videoUrl: null // Preston video skipped for now - too large
            },
            animators: {
                icon: 'üéûÔ∏è',
                title: 'Animators',
                avatar: 'üé¨',
                directoryUrl: 'animators.html',
                description: '2D, 3D, stop-motion, and motion graphics specialists',
                videoUrl: 'videos/animators.mp4',
                character: 'Aurora'
            },
            composers: {
                icon: 'üéº',
                title: 'Composers',
                avatar: 'üéπ',
                directoryUrl: 'composers.html',
                description: 'Music composers creating original scores and soundtracks',
                videoUrl: 'videos/composers.mp4',
                character: 'Bill'
            },
            cosplayers: {
                icon: 'ü¶∏‚Äç‚ôÇÔ∏è',
                title: 'Cosplayers',
                avatar: 'üßü',
                directoryUrl: 'cosplayers.html',
                description: 'Costume designers and character performers',
                videoUrl: 'videos/cosplayers.mp4',
                character: 'Cecil'
            },
            filmmakers: {
                icon: 'üé•',
                title: 'Filmmakers',
                avatar: 'üé¨',
                directoryUrl: 'filmmakers.html',
                description: 'Directors, cinematographers, videographers, and editors',
                videoUrl: 'videos/filmmakers.mp4',
                character: 'Fergus'
            },
            gamedev: {
                icon: 'üéÆ',
                title: 'Game Developers',
                avatar: 'üïπÔ∏è',
                directoryUrl: 'gamedev.html',
                description: 'Building immersive gaming experiences',
                videoUrl: 'videos/gamedev.mp4',
                character: 'Finley'
            },
            illustrators: {
                icon: 'üñºÔ∏è',
                title: 'Visual Artists',
                avatar: 'üé®',
                directoryUrl: 'illustrators.html',
                description: 'Digital artists, logo designers, and visual creators',
                videoUrl: 'videos/illustrators.mp4',
                character: 'Harriet'
            },
            musicians: {
                icon: 'ü•Å',
                title: 'Musicians',
                avatar: 'üé∏',
                directoryUrl: 'musicians.html',
                description: 'Singers, instrumentalists, and music creators',
                videoUrl: 'videos/musicians.mp4',
                character: 'Lars'
            },
            performers: {
                icon: 'üíÉ',
                title: 'Performers',
                avatar: 'üé≠',
                directoryUrl: 'performers.html',
                description: 'Actors, models, dancers, and performance artists',
                videoUrl: 'videos/performers.mp4',
                character: 'Magnuson'
            },
            producers: {
                icon: 'üí∞',
                title: 'Producers',
                avatar: 'üï∂Ô∏è',
                directoryUrl: 'producers.html',
                description: 'Audio and video production specialists',
                videoUrl: 'videos/producers.mp4',
                character: 'Nico'
            },
            agencies: {
                icon: 'üíº',
                title: 'Talent Agencies',
                avatar: 'ü§ù',
                directoryUrl: 'agencies.html',
                description: 'Connect creators with professional representation',
                videoUrl: 'videos/agencies.mp4',
                character: 'Phoenix'
            },
            voice: {
                icon: 'üéôÔ∏è',
                title: 'Voice Actors',
                avatar: 'üé§',
                directoryUrl: 'voice.html',
                description: 'Voice talent for characters, narration, and audio',
                videoUrl: 'videos/voice.mp4',
                character: 'Skeleton'
            },
            writers: {
                icon: '‚úçÔ∏è',
                title: 'Writers',
                avatar: 'üìö',
                directoryUrl: 'writers.html',
                description: 'Screenwriters, novelists, poets, and content creators',
                videoUrl: 'videos/writers.mp4',
                character: 'Una'
            }
        };

        function showCategoryPreview(category) {
            const data = categoryData[category];
            if (!data) return;

            // Show playback progress if in playback mode
            let titleText = data.icon + ' ' + data.title;
            if (isPlaying) {
                titleText += ` (${currentPlaybackIndex + 1}/${playbackQueue.length})`;
            }
            document.getElementById('previewCategory').textContent = titleText;
            
            document.getElementById('creatorAvatar').textContent = data.avatar;
            document.getElementById('creatorName').textContent = data.title;
            document.getElementById('creatorCategoryLabel').textContent = data.description;
            
            // Set up video if available
            const videoFrame = document.querySelector('.video-preview-frame');
            if (data.videoUrl) {
                videoFrame.innerHTML = `
                    <video
                        id="categoryVideo"
                        style="width: 100%; height: 100%; min-height: 600px; object-fit: contain; background: #000;"
                        controls
                        autoplay
                    >
                        <source src="${data.videoUrl}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                `;
            } else {
                videoFrame.innerHTML = '<p>üé¨ Video submissions will play here<br><br>Sequential playback for narratives üéûÔ∏è<br>Random playback for comedy üé≠<br><br><em>This category video coming soon!</em></p>';
            }
            
            // Set up directory button with coming soon alert
            const directoryBtn = document.getElementById('directoryLink');
            directoryBtn.href = '#';
            directoryBtn.onclick = function(e) {
                e.preventDefault();
                alert(data.title + ' directory coming soon!');
            };
            
            document.getElementById('videoPreviewModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeVideoPreview() {
            // Clear the video to stop playback
            const videoFrame = document.querySelector('.video-preview-frame');
            videoFrame.innerHTML = '<p>üé¨ Video submissions will play here<br><br>Sequential playback for narratives üéûÔ∏è<br>Random playback for comedy üé≠</p>';
            
            document.getElementById('videoPreviewModal').style.display = 'none';
            document.body.style.overflow = 'auto';
            
            // If manually closed during playback, stop the playback
            if (isPlaying && playbackTimer) {
                clearTimeout(playbackTimer);
                playbackTimer = null;
            }
        }

        function openAboutModal() {
            document.getElementById('aboutModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeAboutModal() {
            document.getElementById('aboutModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Privacy Modal Functions
        function openPrivacyModal() {
            document.getElementById('privacyModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closePrivacyModal() {
            document.getElementById('privacyModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Terms Modal Functions
        function openTermsModal() {
            document.getElementById('termsModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeTermsModal() {
            document.getElementById('termsModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Contact Modal Functions
        function openContactModal() {
            document.getElementById('contactModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeContactModal() {
            document.getElementById('contactModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Video Controls Modal Functions
        function openVideoControlsModal() {
            document.getElementById('videoControlsModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeVideoControlsModal() {
            document.getElementById('videoControlsModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // How it Works Modal Functions
        function openHowItWorksModal() {
            document.getElementById('howItWorksModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeHowItWorksModal() {
            document.getElementById('howItWorksModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Playback System
        let playbackQueue = [];
        let currentPlaybackIndex = 0;
        let playbackTimer = null;
        let isPlaying = false;

        const categoryOrder = ['animators', 'composers', 'cosplayers', 'filmmakers', 'gamedev', 'illustrators', 
                               'musicians', 'performers', 'producers', 'agencies', 'voice', 'writers'];

        function playSequential() {
            playbackQueue = [...categoryOrder];
            currentPlaybackIndex = 0;
            startPlayback();
            closeVideoControlsModal();
        }

        function playRandom() {
            playbackQueue = [...categoryOrder];
            // Shuffle the array using Fisher-Yates algorithm
            for (let i = playbackQueue.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [playbackQueue[i], playbackQueue[j]] = [playbackQueue[j], playbackQueue[i]];
            }
            currentPlaybackIndex = 0;
            startPlayback();
            closeVideoControlsModal();
        }

        function startPlayback() {
            if (playbackQueue.length === 0) return;
            
            isPlaying = true;
            playNextVideo();
        }

        function playNextVideo() {
            if (!isPlaying || currentPlaybackIndex >= playbackQueue.length) {
                stopPlayback();
                return;
            }

            const category = playbackQueue[currentPlaybackIndex];
            showCategoryPreview(category);

            // Wait for video element to be created, then listen for 'ended' event
            setTimeout(() => {
                const videoElement = document.getElementById('categoryVideo');
                if (videoElement) {
                    // Auto-advance when video ends
                    videoElement.onended = function() {
                        currentPlaybackIndex++;
                        
                        // If more videos, load next one directly (no modal close)
                        if (currentPlaybackIndex < playbackQueue.length) {
                            playNextVideo();
                        } else {
                            // All done - close modal
                            stopPlayback();
                        }
                    };
                } else {
                    // Fallback if no video - advance after 3 seconds
                    playbackTimer = setTimeout(() => {
                        currentPlaybackIndex++;
                        if (currentPlaybackIndex < playbackQueue.length) {
                            playNextVideo();
                        } else {
                            stopPlayback();
                        }
                    }, 3000);
                }
            }, 100);
        }

        function stopPlayback() {
            isPlaying = false;
            currentPlaybackIndex = 0;
            playbackQueue = [];
            
            if (playbackTimer) {
                clearTimeout(playbackTimer);
                playbackTimer = null;
            }
            
            closeVideoPreview();
        }

        window.onclick = function(event) {
            const videoModal = document.getElementById('videoPreviewModal');
            const aboutModal = document.getElementById('aboutModal');
            const privacyModal = document.getElementById('privacyModal');
            const termsModal = document.getElementById('termsModal');
            const contactModal = document.getElementById('contactModal');
            const videoControlsModal = document.getElementById('videoControlsModal');
            const howItWorksModal = document.getElementById('howItWorksModal');
            
            if (event.target == videoModal) {
                closeVideoPreview();
            }
            if (event.target == aboutModal) {
                closeAboutModal();
            }
            if (event.target == privacyModal) {
                closePrivacyModal();
            }
            if (event.target == termsModal) {
                closeTermsModal();
            }
            if (event.target == contactModal) {
                closeContactModal();
            }
            if (event.target == videoControlsModal) {
                closeVideoControlsModal();
            }
            if (event.target == howItWorksModal) {
                closeHowItWorksModal();
            }
        }

        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeVideoPreview();
                closeAboutModal();
                closePrivacyModal();
                closeTermsModal();
                closeContactModal();
                closeVideoControlsModal();
                closeHowItWorksModal();
            }
        });

        console.log('üèôÔ∏è CityBlocks - Collaborative Content Library Platform');
        console.log('üé¨ Mix and match 30-second creator videos to build unique performances');
        console.log('üé≤ Click Video Controls to play Sequential or Random order!');
    </script>
</body>
</html>
